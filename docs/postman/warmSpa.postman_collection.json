{
  "info": {
    "name": "warmSpa API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0",
    "description": "Postman collection for Product and Discount flows"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:3000" },
    { "key": "token", "value": "REPLACE_WITH_JWT" },
    { "key": "branchId", "value": "000000000000000000000000" },
    { "key": "productId", "value": "000000000000000000000000" },
    { "key": "requestId", "value": "000000000000000000000000" }
  ],
  "item": [
    {
      "name": "Products",
      "item": [
        {
          "name": "Get Products By Branch",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/product/branch/{{branchId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product", "branch", "{{branchId}}"]
            }
          }
        },
        {
          "name": "Get All Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/product",
              "host": ["{{baseUrl}}"],
              "path": ["product"]
            }
          }
        },
        {
          "name": "Get Product By Id",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/product/{{productId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product", "{{productId}}"]
            }
          }
        },
        {
          "name": "Create Product (Admin)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/product",
              "host": ["{{baseUrl}}"],
              "path": ["product"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Example Product\",\n  \"price\": 100,\n  \"branchId\": \"{{branchId}}\"\n}"
            }
          }
        },
        {
          "name": "Update Product (Admin)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/product/{{productId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product", "{{productId}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"price\": 120\n}"
            }
          }
        },
        {
          "name": "Delete Product (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/product/{{productId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product", "{{productId}}"]
            }
          }
        },
        {
          "name": "Request Discount (Auth)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/product/requestDiscount",
              "host": ["{{baseUrl}}"],
              "path": ["product", "requestDiscount"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"branchId\": \"{{branchId}}\",\n  \"requiestPrice\": 150,\n  \"reson\": \"Loyal customer\",\n  \"products\": [\n    { \"productId\": \"{{productId}}\" }\n  ],\n  \"reseptionist\": \"000000000000000000000000\"\n}"
            }
          }
        },
        {
          "name": "Approve Discount (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/product/approve-discount/{{requestId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product", "approve-discount", "{{requestId}}"]
            }
          }
        },
        {
          "name": "Reject Discount (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/product/reject-discount/{{requestId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product", "reject-discount", "{{requestId}}"]
            }
          }
        },
        {
          "name": "Make Order After Approve (Auth)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/product/make-order-after-approve/{{requestId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product", "make-order-after-approve", "{{requestId}}"]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userName\": \"John Doe\",\n  \"phone\": \"01000000000\"\n}"
            }
          }
        }
      ]
    }
  ]
}
